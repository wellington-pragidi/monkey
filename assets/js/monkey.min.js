var Monkey=function(e){document.body.onload=function(){var t=e.base_url+e.path_css+"mk-"+e.theme+".css",n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),document.head.append(n);var o=document.createElement("div");o.id="mk_wrap";var i=document.createElement("ul");i.id="mk_toolbar";var r=document.createElement("div");r.id="mk_grow";var a=document.createElement("div");a.id="monkey",a.contentEditable=!0;var h=document.createElement("textarea");h.id="mk_srcode",o.prepend(i),o.append(r),r.prepend(a),r.append(h),[d(),u(),l(),c(),s(),c(),m(),c(),p(),c(),b(),v(),f(),c(),_(),c(),g("button","hr","Linha horizontal",["mk_ico_rule"]),g("button","mk_lorem","Lorem ipsum",["mk_ico_lorem"]),k()].forEach(function(e){i.append(e)}),document.querySelector(e.textarea).before(o)}(),document.execCommand("defaultParagraphSeparator",!1,"p");const t=document.querySelector("#monkey"),n=document.querySelector("#mk_srcode");n.style.display="none";const o=document.querySelector(e.textarea);o.style.display="none",document.querySelectorAll("#mk_toolbar button").forEach(function(e){e.setAttribute("type","button")});const i=window.getSelection();function r(){var e=this.innerHTML;o.value=e}function a(){var e=this.value;o.value=e}function c(){var e=document.createElement("li");return e.classList.add("separator"),e}function d(){var e=g("li",!1,"Tags HTML com formatação de bloco",["select","caret","format"]),t=g("span","format_block",!1,["opendown"]);e.prepend(t);var n=g("div","blocks",!1,["dropdown"]);e.append(n);for(var o=2;o<=6;o++){var i=g("button","h"+o,"h"+o,!1,"Cabeçalho "+o);n.appendChild(i)}var r=g("button","p","p",!1,"Paragrafo"),a=g("button","pre","pre",!1,"Pre-formatado"),c=g("button","address","Para informações de contato",["bracket"],"&lt;address&gt;");return n.append(r),r.after(a),a.after(c),e}function u(){var e=g("li",!1,"Tags HTML com formatação em linha",["select","caret","format"]),t=g("span","format_inline",!1,["opendown"]);e.prepend(t);var n=g("div","inlines",!1,["dropdown"]);e.append(n);var o=g("small",!1,!1,!1,"&lt;b&gt"),i=g("button","b","Negrito",["mk_ico_bold"]);i.appendChild(o);var r=g("small",!1,!1,!1,"&lt;i&gt"),a=g("button","i","Negrito",["mk_ico_italic"]);a.appendChild(r);var c=g("button","u","Sublinhado",["mk_ico_underline"]),d=g("small",!1,!1,!1,"&lt;strike&gt"),u=g("button","strike","Riscado",["mk_ico_strike"]);return u.appendChild(d),[i,a,c,u,g("button","strong","Negrito",["bracket"],"&lt;strong&gt"),g("button","em","Italico",["bracket"],"&lt;em&gt"),g("button","s","Texto riscado",["bracket"],"&lt;s&gt"),g("button","code","Pequeno trecho de código",["bracket"],"&lt;code&gt"),g("button","mark","Destaca o texto com fundo colorido",["bracket"],"&lt;mark&gt"),g("button","small","Reduz o tamanho da fonte",["bracket"],"&lt;small&gt"),g("button","abbr","Abreviação",["bracket"],"&lt;abbr&gt"),g("button","time","Data e/ou hora",["bracket"],"&lt;time&gt;")].forEach(function(e){n.appendChild(e)}),e}function l(){var e="colunas com larguras iguais",t="2 colunas com larguras diferentes",n=g("li",!1,"Inserir colunas de grid",["select","caret"]),o=g("button",!1,!1,["mk_ico_grid","mk_ico_down","opendown"]);n.prepend(o);var i=g("div","insert_grid",!1,["dropdown"]);return n.append(i),[g("button","x_66","2 "+e,!1,"<b></b> <b></b>"),g("button","x_444","3 "+e,!1,"<b></b> <b></b> <b></b>"),g("button","x_75",t,!1,"<b></b> <b></b>"),g("button","x_57",t,!1,"<b></b> <b></b>"),g("button","x_84",t,!1,"<b></b> <b></b>"),g("button","x_48",t,!1,"<b></b> <b></b>")].forEach(function(e){i.appendChild(e)}),n}function s(){var e=g("li",!1,!1,["select","caret"]),t=g("button",!1,!1,["mk_ico_center","mk_ico_down","opendown"]);e.prepend(t);var n=g("div","text_aligns",!1,["dropdown"]);return e.append(n),[g("button","justifyLeft","Alinhar a esquerda",["align","mk_ico_left"]),g("button","justifyCenter","Centralizar",["align","mk_ico_center"]),g("button","justifyRight","Alinhar a direita",["align","mk_ico_right"]),g("button","justifyFull","Justificar",["align","mk_ico_justify"])].forEach(function(e){n.appendChild(e)}),e}function m(){var e=g("li",!1,!1,["mk_group"]),t=g("button","link","Adicionar Link",["mk_ico_link"]),n=g("button","unlink","Remover Link",["mk_ico_unlink"]);return e.appendChild(t),e.appendChild(n),e}function p(){var e=g("li",!1,!1,["mk_group"]),t=g("button","ul","Lista desordenada",["mk_ico_unorderlist"]),n=g("button","ol","Lista ordenada",["mk_ico_orderlist"]);return e.appendChild(t),e.appendChild(n),e}function b(){var e=g("li",!1,"Citações",["select"]),t=g("button",!1,!1,["mk_ico_quote","mk_ico_down","opendown"]);e.prepend(t);var n=g("div","cites",!1,["dropdown"]);e.append(n);var o=g("button","blockquote","Bloco de citação",["bracket"],"&lt;blockquote&gt;"),i=g("button","q","Pequena citação",["bracket"],"&lt;q&gt;"),r=g("button","cite","Dados de citação",["bracket"],"&lt;cite&gt;");return n.appendChild(o),o.after(i),i.after(r),e}function v(){var e=g("li",!1,"Cor da fonte",["select"]),t=g("button",!1,!1,["mk_ico_color","mk_ico_down","opendown"]);e.prepend(t);var n=g("div","mk_textcolors",!1,["dropdown"]);return e.append(n),e}function f(){var e=g("li",!1,"Tamanho da fonte",["select"]),t=g("button",!1,!1,["mk_ico_fontsize","mk_ico_down","opendown"]);e.prepend(t);var n=g("div","fontsize",!1,["dropdown"]);return e.append(n),e}function _(){var e=g("li",!1,!1,["group"]),t=g("input","data_image",!1,["screen_reader"]);t.setAttribute("type","file"),t.setAttribute("accept","image/*");var n=g("label",!1,"Inserir imagem",["mk_ico_image"]);n.setAttribute("for","data_image");var o=g("button","embed","Embutir video youtube",["mk_ico_embed"]),i=g("input","data_video",!1,["screen_reader"]);i.setAttribute("type","file"),i.setAttribute("accept","video/*");var r=g("label",!1,"Inserir video",["mk_ico_video"]);return r.setAttribute("for","data_video"),[t,n,o,r,i].forEach(function(t){e.appendChild(t)}),e}function k(){var e=g("li","mk_toggle","Alternar para editor de código",!1),t=g("input","switch_mode",!1,["screen_reader"]),o=g("label","pages",!1,["mk_ico_code"]);return t.setAttribute("type","checkbox"),o.setAttribute("for","switch_mode"),e.prepend(t),e.append(o),t.addEventListener("change",function(){this.checked?n.style.display="block":n.style.display="none"}),t.onclick=function(){this.classList.toggle("mode_code")},t.addEventListener("change",function(){this.classList.contains("mode_code")?e.setAttribute("title","Alternar para editor visual"):e.setAttribute("title","Alternar para editor de código")}),e}function g(e,t,n,o,i=""){var r=document.createElement(e);return r.innerHTML=i,0!=t&&(r.id=t),0!=n&&r.setAttribute("title",n),0!=o&&o.forEach(function(e){r.classList.add(e)}),r}t.addEventListener("keydown",function(){n.value=t.innerHTML}),t.addEventListener("keyup",function(){n.value=t.innerHTML}),t.addEventListener("change",function(){n.value=t.innerHTML}),t.addEventListener("input",function(){n.value=t.innerHTML}),n.addEventListener("keydown",function(){t.innerHTML=n.value}),n.addEventListener("keyup",function(){t.innerHTML=n.value}),n.addEventListener("change",function(){t.innerHTML=n.value}),n.addEventListener("input",function(){t.innerHTML=n.value}),t.addEventListener("keydown",r),t.addEventListener("keyup",r),t.addEventListener("change",r),t.addEventListener("input",r),n.addEventListener("keydown",a),n.addEventListener("keyup",a),n.addEventListener("change",a),n.addEventListener("input",a);for(var h=document.querySelectorAll("#blocks button"),y=0;y<h.length;y++){var x=h[y].getAttribute("id");document.querySelector("#"+x).addEventListener("click",function(){document.execCommand("formatBlock",!1,this.getAttribute("id"))})}var L=document.querySelectorAll("#inlines button");for(y=0;y<L.length;y++){var C=L[y].getAttribute("id");document.querySelector("#"+C).addEventListener("click",function(){var e,t=this.getAttribute("id");e="abbr"==t?"<"+t+' title="">'+i+"</"+t+">":"<"+t+">"+i+"</"+t+">",document.execCommand("insertHTML",!1,e)})}var E=document.querySelectorAll("#insert_grid button");for(y=0;y<E.length;y++){var A=E[y].getAttribute("id");document.querySelector("#"+A).addEventListener("click",function(){var e;"x_66"==(e=this.getAttribute("id"))&&(e='<div class="cn_s6"></div><div class="cn_s6"></div>'),"x_444"==e&&(e='<div class="cn_s4"></div><div class="cn_s4"></div><div class="cn_s4"></div>'),"x_75"==e&&(e='<div class="cn_s7"></div><div class="cn_s5"></div>'),"x_57"==e&&(e='<div class="cn_s5"></div><div class="cn_s7"></div>'),"x_84"==e&&(e='<div class="cn_s8"></div><div class="cn_s4"></div>'),"x_48"==e&&(e='<div class="cn_s4"></div><div class="cn_s8"></div>'),R('<div class="grid">'+e+"</div><p>&nbsp;</p>"),t.focus()})}var q=document.querySelectorAll(".align");for(y=0;y<q.length;y++){var w=q[y].getAttribute("id");document.querySelector("#"+w).addEventListener("click",function(){document.execCommand("styleWithCSS",!1,"true");var e=this.getAttribute("id");document.execCommand(e,!1,"")})}document.querySelector("#link").onclick=function(){var e=prompt("URL","//");document.execCommand("createLink",!1,e),i.anchorNode.parentElement.target="_blank"},document.querySelector("#unlink").onclick=function(){document.execCommand("unlink",!1,"")},document.querySelector("#ul").onclick=function(){document.execCommand("insertUnorderedList",!1,"")},document.querySelector("#ol").onclick=function(){document.execCommand("insertOrderedList",!1,"")},document.querySelector("#blockquote").onclick=function(){document.execCommand("formatBlock",!1,"blockquote")},document.querySelector("#q").onclick=function(){document.execCommand("insertHTML",!1,"<q>"+window.getSelection()+"</q>")},document.querySelector("#cite").onclick=function(){document.execCommand("insertHTML",!1,"<cite>"+window.getSelection()+"</cite>")};var S=document.querySelector("#mk_textcolors"),T=["#FF0000","#00FF00","#0000FF","#FFFF00","#FFA500","#E60077","#808080","#CC0000","#00CC00","#0000CC","#E6E600","#E69500","#CC0069","#777777","#B30000","#00B300","#0000B3","#CCCC00","#CC8500","#B3005C","#666666","#990000","#009900","#000099","#B3B300","#C37400","#99004F","#555555","#800000","#008000","#000080","#999900","#996300","#800042","#444444","#660000","#006B00","#000066","#808000","#805300","#660035","#333333","#4D0000","#004D00","#00004D","#666600","#664200","#4D0028","#222222","#330000","#003300","#000033","#4D4D00","#4C3200","#33001A","#111111","#1A0000","#001A00","#00001A","#333300","#332100","#1A000A","#000000"];for(y=0;y<T.length;y++){var H=g("button",!1,T[y],["color"]);H.setAttribute("data-color",T[y]),H.style.backgroundColor=T[y],H.setAttribute("type","button"),S.appendChild(H),H.addEventListener("click",function(){document.execCommand("styleWithCSS",!1,"true"),document.execCommand("foreColor",!1,this.getAttribute("data-color"))})}var M=document.querySelector("#fontsize");[{"9px":"0.563rem"},{"10px":"0.625rem"},{"11px":"0.688rem"},{"12px":"0.75rem"},{"13px":"0.813rem"},{"14px":"0.875rem"},{"15px":"0.938rem"},{"16px":"1rem"},{"17px":"1.063rem"},{"18px":"1.125rem"},{"19px":"1.188rem"},{"21px":"1.313rem"},{"23px":"1.438rem"},{"26px":"1.625rem"},{"29px":"1.813rem"},{"32px":"2rem"},{"40px":"2.5rem"}].forEach(function(e){for(px in e){var t=e[px],n=g("button",!1,"Equivale a "+t,!1,px);n.setAttribute("data-size",t),n.setAttribute("type","button"),M.appendChild(n)}}),document.querySelectorAll("#fontsize button").forEach(function(e){var t=e.getAttribute("data-size");e.addEventListener("click",function(){return t='<span style="font-size:'+t+'">'+i+"</span>",document.execCommand("insertHTML",!1,t)})});var F=document.querySelector("#data_image");F.addEventListener("change",function(){var e=new FileReader;e.onload=function(e){var t=F.files[0].name.split(".").slice(0,-1).join(".");R('<img src="'+e.target.result+'" alt="'+t+'">')},e.readAsDataURL(this.files[0]),t.focus()}),document.querySelector("#embed").onclick=function(){var e=prompt("Insira URL de video do YouTube","");R('<div class="iframe"><iframe src="'+(e=(e=e.replace("watch?v=","embed/")).indexOf("&")>-1?e.substring(0,e.indexOf("&")):e)+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>')},document.querySelector("#data_video").addEventListener("change",function(){var e=new FileReader;this.files[0].size>3e7?alert("O tamanho do arquivo excede o máximo permitido"):e.onload=function(e){R('<video controls><mk_source src="'+e.target.result+'" type="video/mp4"></video>')},e.readAsDataURL(this.files[0]),t.focus()}),document.querySelector("#hr").onclick=function(){document.execCommand("insertHorizontalRule",!1,"")};function R(e){var t,n;if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){n=window.getSelection().getRangeAt(0);var o=document.createElement("div");o.innerHTML=e;for(var i,r=document.createDocumentFragment();i=o.firstChild;)r.appendChild(i);n.insertNode(r)}}else document.selection&&document.selection.createRange&&(n=document.selection.createRange()).pasteHTML(e)}document.querySelector("#mk_lorem").onclick=function(){document.execCommand("insertText",!1,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")}};